# ğŸ§  å·¥ç¨‹å“²å­¦ - Engineering Philosophy

> æœ¬æ–‡æ¡£é˜è¿° Multi-Agent SWE Framework çš„è®¾è®¡å“²å­¦ä¸å·¥ç¨‹ç†å¿µã€‚

---

## æ ¸å¿ƒå“²å­¦

### 1. ç³»ç»Ÿå·¥ç¨‹è§†è§’

> "è½¯ä»¶å·¥ç¨‹ä¸æ˜¯ä¸€æ¬¡é—®ç­”ï¼Œæ˜¯ä¸€ä¸ªé•¿ç¨‹ã€è¿­ä»£ã€å·¥å…·å¯†é›†ã€éœ€è¦å¯æ ¸æŸ¥äº§ç‰©çš„å·¥ä½œæµç³»ç»Ÿã€‚"

æˆ‘ä»¬ä¸æŠŠ AI è¾…åŠ©ç¼–ç¨‹è§†ä¸º"æ›´æ™ºèƒ½çš„è‡ªåŠ¨è¡¥å…¨"ï¼Œè€Œæ˜¯è§†ä¸ºä¸€ä¸ª**ç³»ç»Ÿå·¥ç¨‹é—®é¢˜**ã€‚è¿™æ„å‘³ç€ï¼š

- **ä¸è¿½æ±‚å•æ¬¡å®Œç¾**ï¼šæ¥å—è¿­ä»£æ˜¯å¸¸æ€
- **å¼ºè°ƒå¯éªŒè¯æ€§**ï¼šæ¯ä¸ªæ­¥éª¤éƒ½æœ‰è¯æ®
- **é‡è§†å¯è¿½æº¯æ€§**ï¼šçŸ¥é“ä¸ºä»€ä¹ˆè¿™æ ·åš
- **å…³æ³¨å¯å¤ç°æ€§**ï¼šç›¸åŒè¾“å…¥å¾—åˆ°å¯é¢„æœŸçš„è¾“å‡º

### 2. åˆ†è€Œæ²»ä¹‹

> "å¤æ‚æ€§çš„ç®¡ç†åœ¨äºåˆ†è§£ï¼Œè€Œéé€ƒé¿ã€‚"

ä¸€ä¸ªå¤§ä»»åŠ¡åˆ†è§£ä¸ºå¤šä¸ªå°ä»»åŠ¡ï¼š
- é™ä½å•ä¸ªä»»åŠ¡çš„å¤æ‚åº¦
- å…è®¸å¹¶è¡Œæ‰§è¡Œ
- ä¾¿äºå¤±è´¥å®šä½å’Œæ¢å¤
- æä¾›ä¸­é—´æ£€æŸ¥ç‚¹

ä¸€ä¸ªé€šç”¨ Agent åˆ†è§£ä¸ºå¤šä¸ªä¸“ä¸š Agentï¼š
- æ¯ä¸ª Agent ä¸“æ³¨æ›´çª„çš„é¢†åŸŸ
- å‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢çš„è®¤çŸ¥è´Ÿæ‹…
- ä¾¿äºç‹¬ç«‹ä¼˜åŒ–å’Œæ›¿æ¢

### 3. æ˜¾å¼èƒœäºéšå¼

> "è®©ç³»ç»ŸçŠ¶æ€å’Œå†³ç­–è¿‡ç¨‹å¯¹äººå¯è§ã€å¯ç†è§£ã€å¯å¹²é¢„ã€‚"

**çŠ¶æ€å¤–æ˜¾**ï¼š
- å·¥ä½œæµçŠ¶æ€ä¸æ˜¯ Agent å†…éƒ¨å˜é‡ï¼Œè€Œæ˜¯ Dashboard ä¸Šçš„å¯è§†å›¾è¡¨
- ä»»åŠ¡è¿›åº¦ä¸æ˜¯é»‘ç›’ï¼Œè€Œæ˜¯ DAG ä¸Šçš„æ ‡è®°
- å†³ç­–ç†ç”±ä¸æ˜¯éšè—åœ¨ prompt ä¸­ï¼Œè€Œæ˜¯è®°å½•åœ¨ ADR é‡Œ

**æµç¨‹å¤–æ˜¾**ï¼š
- æ§åˆ¶æµä¸æ˜¯"è®©æ¨¡å‹è‡ªå·±å†³å®šä¸‹ä¸€æ­¥"ï¼Œè€Œæ˜¯å®šä¹‰å¥½çš„çŠ¶æ€æœº
- è´¨é‡é—¨ä¸æ˜¯"å¸Œæœ›æ¨¡å‹å°å¿ƒ"ï¼Œè€Œæ˜¯å¼ºåˆ¶çš„æ£€æŸ¥ç‚¹

### 4. çº¦æŸæ˜¯è‡ªç”±

> "å¥½çš„çº¦æŸä¸é™åˆ¶ä½ èƒ½åšä»€ä¹ˆï¼Œè€Œæ˜¯å¸®ä½ é¿å…ä¸è¯¥åšä»€ä¹ˆã€‚"

æˆ‘ä»¬é€šè¿‡çº¦æŸæ¥æå‡æ•ˆç‡ï¼š

| çº¦æŸ | æ•ˆæœ |
|------|------|
| ç»“æ„åŒ–è¾“å‡º | å‡å°‘è§£ææ­§ä¹‰ |
| æœ€å°æƒé™ | é™ä½é£é™© |
| è´¨é‡é—¨ | å‡å°‘è¿”å·¥ |
| èµ„æºé¢„ç®— | é˜²æ­¢å¤±æ§ |

æ²¡æœ‰çº¦æŸçš„è‡ªç”±ä¼šå¯¼è‡´ï¼š
- ä¸å¯é¢„æµ‹çš„è¡Œä¸º
- éš¾ä»¥è°ƒè¯•çš„é—®é¢˜
- æ— æ³•å®¡è®¡çš„å˜æ›´

### 5. è´¨é‡å†…å»º

> "ä¿®å¤ä¸€ä¸ª Bug çš„æˆæœ¬éšç€å‘ç°æ—¶é—´æŒ‡æ•°å¢é•¿ã€‚"

```
å‘ç°é˜¶æ®µ    ç›¸å¯¹æˆæœ¬
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ç¼–ç æ—¶      1x
æµ‹è¯•æ—¶      10x
ä¸Šçº¿å      100x
```

å› æ­¤ï¼Œè´¨é‡ä¿è¯å¿…é¡»å†…å»ºåœ¨æ¯ä¸ªé˜¶æ®µï¼š
- **ç¼–ç æ—¶**ï¼šç±»å‹æ£€æŸ¥ã€lint
- **æäº¤å‰**ï¼šå•å…ƒæµ‹è¯•
- **åˆå¹¶å‰**ï¼šå…¨é‡æµ‹è¯•ã€å®¡æŸ¥
- **ä¸Šçº¿å‰**ï¼šE2Eã€å®‰å…¨æ‰«æ

---

## è®¾è®¡åŸåˆ™

### 1. å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRPï¼‰

æ¯ä¸ªç»„ä»¶åªåšä¸€ä»¶äº‹ï¼š

| ç»„ä»¶ | èŒè´£ |
|------|------|
| Supervisor | åªè´Ÿè´£è°ƒåº¦ï¼Œä¸è´Ÿè´£å®ç° |
| Repo Scout | åªè´Ÿè´£æœç´¢ï¼Œä¸è´Ÿè´£ä¿®æ”¹ |
| Implementer | åªè´Ÿè´£ç¼–ç ï¼Œä¸è´Ÿè´£æµ‹è¯• |
| Tester | åªè´Ÿè´£éªŒè¯ï¼Œä¸è´Ÿè´£ä¿®å¤ |

è¿å SRP çš„åæœï¼š
- éš¾ä»¥æµ‹è¯•
- éš¾ä»¥å¤ç”¨
- éš¾ä»¥ç†è§£

### 2. å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOCPï¼‰

å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ï¼š

```
æ·»åŠ æ–°æ™ºèƒ½ä½“ï¼Ÿ â†’ åˆ›å»ºæ–°æ–‡ä»¶ï¼Œä¸æ”¹ç°æœ‰ä»£ç 
æ·»åŠ æ–°æŠ€èƒ½ï¼Ÿ   â†’ åˆ›å»ºæ–°ç›®å½•ï¼Œä¸æ”¹ç°æœ‰ä»£ç 
æ·»åŠ æ–°è§„åˆ™ï¼Ÿ   â†’ åˆ›å»ºæ–°æ–‡ä»¶ï¼Œä¸æ”¹ç°æœ‰ä»£ç 
```

æ‰©å±•ç‚¹è®¾è®¡ï¼š
- `agents/` ç›®å½•ï¼šæ·»åŠ æ–° Agent
- `skills/` ç›®å½•ï¼šæ·»åŠ æ–°æŠ€èƒ½
- `rules/` ç›®å½•ï¼šæ·»åŠ æ–°è§„åˆ™
- `commands/` ç›®å½•ï¼šæ·»åŠ æ–°å‘½ä»¤

### 3. ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPï¼‰

é«˜å±‚æ¨¡å—ä¸ä¾èµ–ä½å±‚æ¨¡å—ï¼Œéƒ½ä¾èµ–æŠ½è±¡ï¼š

```
Supervisor
    â”‚
    â”œâ”€â”€ ä¾èµ– "Agent æ¥å£"ï¼ˆæŠ½è±¡ï¼‰
    â”‚       â†‘
    â”‚       â”‚
    â”‚   â”Œâ”€â”€â”€â”´â”€â”€â”€â”
    â”‚   â”‚       â”‚
   Scout  Implementerï¼ˆå…·ä½“ï¼‰
```

è¿™å…è®¸ï¼š
- æ›¿æ¢å…·ä½“å®ç°è€Œä¸å½±å“è°ƒåº¦é€»è¾‘
- ä½¿ç”¨ mock Agent è¿›è¡Œæµ‹è¯•
- æ¸è¿›å¼å‡çº§å„ä¸ªç»„ä»¶

### 4. æœ€å°æ„å¤–åŸåˆ™ï¼ˆPOLAï¼‰

ç³»ç»Ÿè¡Œä¸ºåº”è¯¥ç¬¦åˆç”¨æˆ·é¢„æœŸï¼š

| æ“ä½œ | é¢„æœŸ | å®é™… |
|------|------|------|
| `/test` | è¿è¡Œæµ‹è¯• | âœ“ è¿è¡Œæµ‹è¯• |
| ä¿®æ”¹ä»£ç  | åªæ”¹æŒ‡å®šéƒ¨åˆ† | âœ“ åªæ”¹æŒ‡å®šéƒ¨åˆ† |
| å¤±è´¥ | å‘Šè¯‰æˆ‘åŸå›  | âœ“ è¯¦ç»†é”™è¯¯æŠ¥å‘Š |

é¿å…æ„å¤–ï¼š
- ä¸ä¸»åŠ¨åšç”¨æˆ·æ²¡è¦æ±‚çš„äº‹
- é«˜é£é™©æ“ä½œéœ€è¦ç¡®è®¤
- ç»“æœä¸æ‰¿è¯ºä¸€è‡´

### 5. æ¸è¿›å¢å¼ºåŸåˆ™

ä»ç®€å•å¼€å§‹ï¼ŒæŒ‰éœ€å¢åŠ å¤æ‚åº¦ï¼š

```
Level 1: ç›´æ¥æè¿°ä»»åŠ¡
         "å¸®æˆ‘ä¿®å¤è¿™ä¸ª bug"
         
Level 2: ä½¿ç”¨å‘½ä»¤è·å¾—æ›´å¤šæ§åˆ¶
         "/swe ä¿®å¤ bug"
         
Level 3: å…ˆè§„åˆ’å†æ‰§è¡Œ
         "/plan ä¿®å¤ bug" â†’ ç¡®è®¤ â†’ æ‰§è¡Œ
         
Level 4: è‡ªå®šä¹‰å·¥ä½œæµ
         ç¼–å†™è‡ªå·±çš„ commands
```

---

## å·¥ç¨‹å®è·µ

### 1. æµ‹è¯•é‡‘å­—å¡”

```
          /\
         /  \        E2Eï¼ˆå°‘é‡ï¼‰
        /----\
       /      \      é›†æˆæµ‹è¯•ï¼ˆé€‚é‡ï¼‰
      /--------\
     /          \    å•å…ƒæµ‹è¯•ï¼ˆå¤§é‡ï¼‰
    /------------\
```

- **å•å…ƒæµ‹è¯•**ï¼šå¿«é€Ÿã€ç‹¬ç«‹ã€è¦†ç›–è¾¹ç•Œ
- **é›†æˆæµ‹è¯•**ï¼šéªŒè¯æ¨¡å—åä½œ
- **E2E æµ‹è¯•**ï¼šéªŒè¯å…³é”®ç”¨æˆ·æµç¨‹

### 2. æŒç»­é›†æˆ

```
ä»£ç å˜æ›´ â†’ è‡ªåŠ¨æµ‹è¯• â†’ è‡ªåŠ¨éƒ¨ç½²ï¼ˆå¯é€‰ï¼‰
              â”‚
              â”œâ”€â”€ é€šè¿‡ â†’ å¯ä»¥åˆå¹¶
              â”‚
              â””â”€â”€ å¤±è´¥ â†’ é˜»æ­¢åˆå¹¶
```

CI çš„ä»·å€¼ï¼š
- å¿«é€Ÿåé¦ˆ
- é˜²æ­¢å›å½’
- å¼ºåˆ¶è´¨é‡æ ‡å‡†

### 3. ä»£ç å®¡æŸ¥

ä»£ç å®¡æŸ¥ä¸æ˜¯æ‰¾èŒ¬ï¼Œè€Œæ˜¯ï¼š
- çŸ¥è¯†å…±äº«
- è´¨é‡ä¿è¯
- è®¾è®¡è®¨è®º

å¥½çš„å®¡æŸ¥å…³æ³¨ï¼š
- æ­£ç¡®æ€§
- å¯è¯»æ€§
- å®‰å…¨æ€§

ä¸å¥½çš„å®¡æŸ¥å…³æ³¨ï¼š
- ä¸ªäººé£æ ¼åå¥½
- æ— å…³ç´§è¦çš„ç»†èŠ‚

### 4. æ–‡æ¡£å³ä»£ç 

æ–‡æ¡£å’Œä»£ç åŒç­‰é‡è¦ï¼š
- **README**ï¼šé¡¹ç›®å…¥å£
- **ADR**ï¼šè®¾è®¡å†³ç­–
- **æ³¨é‡Š**ï¼šå¤æ‚é€»è¾‘è¯´æ˜
- **ç±»å‹**ï¼šè‡ªæ–‡æ¡£åŒ–æ¥å£

æ–‡æ¡£åº”è¯¥ï¼š
- ä¸ä»£ç ä¸€èµ·ç»´æŠ¤
- ä¸ä»£ç ä¸€èµ·å®¡æŸ¥
- ä¸ä»£ç ä¸€èµ·ç‰ˆæœ¬æ§åˆ¶

---

## åæ¨¡å¼è­¦ç¤º

### âŒ è¿‡åº¦å·¥ç¨‹

```yaml
# ä¸å¥½ï¼šä¸ºå‡è®¾çš„æœªæ¥éœ€æ±‚è®¾è®¡
class AbstractUserValidatorFactoryBuilder {
  // 100 è¡Œä»£ç åªä¸ºäº†å¯èƒ½çš„æ‰©å±•
}

# å¥½ï¼šè§£å†³å½“å‰é—®é¢˜
function validateEmail(email: string): boolean {
  return EMAIL_REGEX.test(email);
}
```

### âŒ é­”æ³•æ•°å­—

```yaml
# ä¸å¥½
if (retryCount > 3) { ... }

# å¥½
const MAX_RETRY_COUNT = 3;
if (retryCount > MAX_RETRY_COUNT) { ... }
```

### âŒ å·¨å‹å‡½æ•°

```yaml
# ä¸å¥½ï¼š500 è¡Œçš„ processRequest å‡½æ•°

# å¥½ï¼šåˆ†è§£ä¸ºå¤šä¸ªå°å‡½æ•°
function processRequest(req) {
  const validated = validateInput(req);
  const processed = transformData(validated);
  const result = executeAction(processed);
  return formatResponse(result);
}
```

### âŒ å¿½ç•¥é”™è¯¯

```yaml
# ä¸å¥½
try {
  doSomething();
} catch (e) {
  // å¿½ç•¥é”™è¯¯
}

# å¥½
try {
  doSomething();
} catch (e) {
  logger.error('Failed to do something', { error: e });
  throw new ProcessingError('Something failed', { cause: e });
}
```

### âŒ ç›²ç›®ä¿¡ä»»

```yaml
# ä¸å¥½ï¼šç›¸ä¿¡ AI æ€»æ˜¯å¯¹çš„
result = agent.execute(task)
applyDirectly(result)

# å¥½ï¼šéªŒè¯ååº”ç”¨
result = agent.execute(task)
if (validate(result)) {
  applyWithReview(result)
}
```

---

## å¼•ç”¨ä¸è‡´è°¢

æœ¬æ¡†æ¶çš„è®¾è®¡ç†å¿µå€Ÿé‰´äº†ä»¥ä¸‹æ¥æºï¼š

### å­¦æœ¯ç ”ç©¶
- **DR Agent è®ºæ–‡**ï¼šDeep Research Agents çš„ç³»ç»Ÿæ¶æ„
- **LangGraph**ï¼šçŠ¶æ€æœºå’Œå›¾ç¼–æ’æ€æƒ³

### å·¥ç¨‹å®è·µ
- **Anthropic å·¥ç¨‹åšå®¢**ï¼šé•¿ç¨‹ AI ç³»ç»Ÿè®¾è®¡
- **Google SRE Book**ï¼šå¯é æ€§å·¥ç¨‹
- **Unix å“²å­¦**ï¼šåšä¸€ä»¶äº‹å¹¶åšå¥½

### è®¾è®¡åŸåˆ™
- **SOLID åŸåˆ™**ï¼šé¢å‘å¯¹è±¡è®¾è®¡
- **12 Factor App**ï¼šäº‘åŸç”Ÿåº”ç”¨è®¾è®¡
- **Clean Architecture**ï¼šæ¶æ„åˆ†å±‚

---

## æ€»ç»“

Multi-Agent SWE Framework çš„å·¥ç¨‹å“²å­¦å¯ä»¥å½’çº³ä¸ºï¼š

1. **ç³»ç»Ÿæ€ç»´**ï¼šæŠŠ AI è¾…åŠ©ç¼–ç¨‹è§†ä¸ºç³»ç»Ÿå·¥ç¨‹
2. **åˆ†è€Œæ²»ä¹‹**ï¼šåˆ†è§£å¤æ‚æ€§ï¼Œå„å¸å…¶èŒ
3. **æ˜¾å¼ä¼˜å…ˆ**ï¼šè®©çŠ¶æ€å’Œå†³ç­–å¯è§
4. **çº¦æŸèµ‹èƒ½**ï¼šç”¨åˆç†çš„çº¦æŸæå‡æ•ˆç‡
5. **è´¨é‡å†…å»º**ï¼šåœ¨æ¯ä¸ªé˜¶æ®µä¿è¯è´¨é‡

è¿™äº›åŸåˆ™ä¸æ˜¯æ•™æ¡ï¼Œè€Œæ˜¯åœ¨å®è·µä¸­è¢«è¯æ˜æœ‰æ•ˆçš„æŒ‡å¯¼æ–¹é’ˆã€‚åœ¨å…·ä½“åœºæ™¯ä¸­ï¼Œåº”è¯¥æ ¹æ®å®é™…æƒ…å†µçµæ´»åº”ç”¨ã€‚

---

<sub>Multi-Agent SWE Framework | Engineering Philosophy v1.0.0</sub>

